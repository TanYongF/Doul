type (
	CommonResp {
		Code uint32 `json:"status_code" default:"0"`
		Msg  string `json:"status_msg" default:"OK"`
	}

	UserPO {
		FollowCount   int64  `json:"follow_count"`   // 关注总数
		FollowerCount int64  `json:"follower_count"` // 粉丝总数
		ID            int64  `json:"id"`             // 用户id
		IsFollow      bool   `json:"is_follow"`      // true-已关注，false-未关注
		Name          string `json:"name"`
	}

	LoginReq {
		Username string `form:"username"`
		Password string `form:"password"`
	}

	RegisterReq {
		Username string `form:"username"`
		Password string `form:"password"`
	}

	InfoReq {
		UserId int64 `form:"user_id,omitempty"`
	}

	FollowerListReq {
		UserId int64  `form:"user_id"`
		Token  string `form:"token"`
	}

	FollowingListReq {
		UserId int64  `form:"user_id"`
		Token  string `form:"token"`
	}

	UserLoginRes {
		CommonResp
		UserId int64  `json:"user_id,omitempty"`
		Token  string `json:"token"`
	}

	RegisterRes {
		CommonResp
		UserId int64  `json:"user_id,omitempty"`
		Token  string `json:"token"`
	}

	InfoRes {
		CommonResp
		User UserPO `json:"user"`
	}

	FollowerListResp {
		CommonResp
		UserList []UserPO `json:"user_list"`
	}

	FollowingListResp {
		CommonResp
		UserList []UserPO `json:"user_list"`
	}
)

service user-api {
	@handler login
	post /douyin/user/login (LoginReq) returns (UserLoginRes)
	
	@handler register
	post /douyin/user/register (RegisterReq) returns (RegisterRes)
	
}

@server (
	middleware : AuthMiddleware
)
service  user-api{
	@handler userinfo
	get /douyin/user (InfoReq) returns (InfoRes)
	
	@doc "获取粉丝列表"
	@handler followerList
	get /douyin/relation/follower/list (FollowerListReq) returns (FollowerListResp)
	
	@doc "获取关注列表"
	@handler followingList
	get /douyin/relation/follow/list (FollowingListReq) returns (FollowingListResp)
}